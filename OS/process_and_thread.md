## í”„ë¡œì„¸ìŠ¤ ì™€ ìŠ¤ë ˆë“œ

> ì´ ê¸€ì—ì„œëŠ” í”„ë¡œì„¸ìŠ¤ì™€ ìŠ¤ë ˆë“œ ì˜ ê³µí†µì  ê³¼ ì°¨ì´ì  ì—ëŒ€í•´ ë‹¤ë£¹ë‹ˆë‹¤. ğŸ‘€

## í”„ë¡œê·¸ë¨

ìš°ë¦¬ê°€ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ë©´ ì‘ì—…ê´€ë¦¬ìì— í”„ë¡œì„¸ìŠ¤ë¡œ ë“±ë¡ë˜ê³  ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ë©ë‹ˆë‹¤. ì–´ë–»ê²Œë³´ë©´ ì •ì ì¸ ìƒíƒœì˜ ì½”ë“œ ì´ë©° í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ë©´ ì •ì ì´ì˜€ë˜ ì½”ë“œê°€ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°€ê³  ì‹¤í–‰ë˜ë©´ì„œ ë™ì ì¸ í”„ë¡œê·¸ë¨ ì´ë©° ì‹¤í–‰ë‹¨ìœ„ì¸ í”„ë¡œì„¸ìŠ¤ê°€ ë©ë‹ˆë‹¤.


## í”„ë¡œì„¸ìŠ¤

> ì»´í“¨í„°ì—ì„œ ì—°ì†ì ìœ¼ë¡œ ì‹¤í–‰ë˜ê³  ìˆëŠ” ì»´í“¨í„°ì˜ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ì»´í“¨í„°ê°€ ì‹¤í–‰í•˜ëŠ” í”„ë¡œê·¸ë¨ì˜ ë‹¨ìœ„ ì…ë‹ˆë‹¤. OSëŠ” í”„ë¡œì„¸ìŠ¤ ë‹¨ìœ„ë¡œ ì»´í“¨í„° ìì›ì„ í• ë‹¹ í•˜ë©° ì‹¤í–‰ë˜ëŠ” í”„ë¡œê·¸ë¨ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë™ì  í”„ë¡œê·¸ë¨(ì‘ë™ë˜ê³  ìˆëŠ” í”„ë¡œê·¸ë¨) OSë¡œë¶€í„° ìì›ì„ í• ë‹¹ë°›ì•„ ë©”ëª¨ë¦¬ì— ì ì¬ë˜ì–´ ì‹¤í–‰ë˜ê³ ìˆëŠ” ìƒíƒœì˜ í”„ë¡œê·¸ë¨ ì´ê¸°ë„ í•©ë‹ˆë‹¤.


## ìŠ¤ë ˆë“œ

> ìŠ¤ë ˆë“œëŠ” í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì—¬ëŸ¬ íë¦„ì˜ ë‹¨ìœ„ ì´ë©° í•œ í”„ë¡œì„¸ìŠ¤ê°€ ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²½ëŸ‰ í”„ë¡œì„¸ìŠ¤ë¡œ í‘œí˜„í•˜ê¸°ë„ í•©ë‹ˆë‹¤.

## ë©€í‹° í”„ë¡œì„¸ìŠ¤ ì™€ ë©€í‹° ìŠ¤ë ˆë“œ

ë©€í‹° í”„ë¡œì„¸ìŠ¤ì™€ ë©€í‹° ìŠ¤ë ˆë“œëŠ” ì–´ë–¤ ì°¨ì´ê°€ ìˆìœ¼ë¾ 

- ë©€í‹° ìŠ¤ë ˆë“œëŠ” ë©€í‹° í”„ë¡œì„¸ìŠ¤ë³´ë‹¤ ì ì€ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì°¨ì§€í•˜ê³  Context Switchingì´ ë©€í‹° í”„ë¡œì„¸ìŠ¤ì— ë¹„í•´ì„œ ë¹ ë¥¸ ì¥ì ì´ìˆë‹¤.(Context Switchingì´ ì¼ì–´ë‚˜ê¸´ í•œë‹¤.), í•˜ì§€ë§Œ ë©€í‹° ìŠ¤ë ˆë“œëŠ” ë™ê¸°í™” ë¬¸ì œì™€ í•¨ê»˜ í•œ ìŠ¤ë ˆë“œì— ë¬¸ì œê°€ ìƒê¸°ë©´ í•´ë‹¹ ë¬¸ì œê°€ í”„ë¡œì„¸ìŠ¤ ì „ì²´ë¡œ í¼ì§€ëŠ” ë¬¸ì œë¥¼ ê°€ì§€ê³ ìˆë‹¤. ì´ë¡œì¸í•´ í•œ ìŠ¤ë ˆë“œì— ì¥ì• ê°€ ìƒê¸¸ê²½ìš° í”„ë¡œì„¸ìŠ¤ê°€ ê°•ì œë¡œ ì¢…ë£Œë˜ê¸°ë„ í•œë‹¤.

- ë©€í‹° í”„ë¡œì„¸ìŠ¤ëŠ” í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ì£½ë”ë¼ë„ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šì•„ ì•ˆì •ì„±ì´ ë†’ì§€ë§Œ ë©€í‹° ìŠ¤ë ˆë“œë³´ë‹¤ ë§ì€ ë©”ëª¨ë¦¬ê³µê°„ê³¼ CPU ì‹œê°„ì„ ì°¨ì§€í•˜ëŠ” ë‹¨ì ì´ ìˆë‹¤.(OSì—ì„œëŠ” ê° ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ë¡œ ì¸ì‹í•˜ê³  ê°ê°ì—ë§ëŠ” PCBë¥¼ ìƒì„±í•œë‹¤. ë˜ í”„ë¡œì„¸ìŠ¤ ê°„ ì „í™˜ì‹œ ë¬¸ë§¥êµí™˜`context switching` ì˜ ì˜¤ë²„í—¤ë“œë¥¼ ë°œìƒí•œë‹¤.)

- ë©€í‹° ìŠ¤ë ˆë“œì™€ ë©€í‹° í”„ë¡œì„¸ìŠ¤ëŠ” ëª¨ë‘ `ë™ì‹œì— ì—¬ëŸ¬ ì‘ì—…`ì„ ìˆ˜í–‰í•˜ëŠ” ê´€ì ì—ì„œëŠ” ë™ì¼í•˜ì§€ë§Œ, ê°ê°ì˜ ì¥ë‹¨ì ì´ ìˆìœ¼ë¯€ë¡œ ê°œë°œìê°€ íŒë‹¨í•˜ì— ì í•©í•œ ë°©ë²•ì„ ì„ íƒí•´ì•¼í•œë‹¤.

## ğŸ¤” ê·¸ëŸ¼ ë¬´ì¡°ê±´ ìŠ¤ë ˆë“œê°€ ë§ìœ¼ë©´ ì¢‹ì€ê°€ìš” ? 

ìŠ¤ë ˆë“œëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì¼í• ìˆ˜ ìˆëŠ” íë¦„ì˜ ë‹¨ìœ„ë‹ˆê¹Œ.. ìŠ¤ë ˆë“œê°€ ë§ìœ¼ë©´ ë§ì„ìˆ˜ë¡ ë” ì¼ì„ ì˜ í•  ìˆ˜ ìˆì„ê¹Œ? ë¼ëŠ” ê¶ê¸ˆì¦ì´ ë“ ë‹¤.

ì´ê±¸ ì´í•´í•˜ë ¤ë©´ ë‹¹ì‹ ì˜ í”„ë¡œê·¸ë¨ì€ ì–´ë–¤ì¼ì„ ë§ì´ í•˜ëŠ”ì§€ë¥¼ ì•Œì•„ì•¼ í•œë‹¤.

### CPU ë°”ìš´ë“œ ì™€ I/O ë°”ìš´ë“œ

í”„ë¡œì„¸ìŠ¤ ê°€ ì‹¤í–‰ ë ë•Œ ì–´ë–¤ ì‘ì—…ì´ ë§ì€ì§€ì— ë”°ë¼ CPU ë°”ìš´ë“œ, I/O ë°”ìš´ë“œë¡œ ë‚˜ëˆˆë‹¤.

>[!NOTE]
> CPU ë°”ìš´ë“œ    
> CPU ë°”ìš´ë“œëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì§„í–‰ë  ë–„, CPU ì‚¬ìš© ê¸°ê°„ì´ I/O Wating ë³´ë‹¤ ë§ì€ ê²½ìš°ë‹¤. ì£¼ë¡œ í–‰ë ¬ê³±ì´ë‚˜ ê³ ì† ì—°ì‚°ë“± ì—°ì‚°ì„ í•  ë•Œ ë‚˜íƒ€ë‚˜ë©° cpuì„±ëŠ¥ì— ì˜í•´ ì‘ì—… ì†ë„ê°€ ê²°ì •ëœë‹¤. (ê²Œì„, í¬í† ìƒµ ë“± cpu,gpu ì—°ì‚°ë“±ì´ ë§ì€ ì‘ì—…ë“±ì´ ì´ì— í•´ë‹¹í•œë‹¤.)

>[!NOTE]
> I/O ë°”ìš´ë“œ    
> I/O ë°”ìš´ë“œ ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì§„í–‰ë  ë–„, I/O Wating ì´ ë³´ë‹¤ CPU ì‚¬ìš© ê¸°ê°„ ë§ì€ ê²½ìš°ë‹¤. 
ì£¼ë¡œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ê³  í˜¹ì€ DB ë“± ì™¸ë¶€ì˜ ì…ì¶œë ¥ì´ ë§ì´ ì¼ì–´ë‚˜ëŠ” ê²½ìš°ì´ë‹¤. 

### ğŸ‘€ ìŠ¤ë ˆë“œ ìˆ˜ì™€ ë°”ìš´ë“œì˜ ê´€ê³„ 

ìŠ¤ë ˆë“œì™€ ë°”ìš´ë“œì˜ ê´€ê³„ë¥¼ ì•Œì•„ë³´ê¸°ì „ì— ìš°ì„  ìŠ¤ë ˆë“œê°€ ë§ìœ¼ë©´ ì–´ë–¤ì¼ì´ ìƒê¸°ëŠ”ì§€ ì•Œì•„ë³´ì.
í”„ë¡œì„¸ìŠ¤ì˜ ìŠ¤ë ˆë“œê°€ ë§ë‹¤ë©´ í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ë ë•Œ ê° ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ì„ìœ„í•´ cpu ìì›ì„ ë‘ê³  ê²½í•©ì´ ì¼ì–´ë‚œë‹¤. ì´ë–„ ìŠ¤ë ˆë“œ ë¼ë¦¬ ì˜ ì‘ì—… ì „í™˜(context swiching) ì´ ì¼ì–´ë‚˜ë©´ ìŠ¤ë ˆë“œ ê°„ì˜ ì „í™˜ë™ì•ˆ cpuëŠ” thread ì˜ ì •ë³´ë¥¼ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸° í•˜ëŠ”ë“±ì˜ ë¶ˆí•„ìš”í•œ ì—°ì‚°ì´ ì¶”ê°€ë˜ëŠ” ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•œë‹¤.

>[!NOTE] 
> CPU BURST  âœ¨
> ëŒ€ë¶€ë¶„ì˜ í”„ë¡œê·¸ë¨ì€ CPU ëŠ” í‰ê· ì ìœ¼ë¡œ ì•„ì£¼ ì§§ì€ì‹œê°„ (ì•½ 8ms) ê°„ cpuë¥¼ ì‚¬ìš©í•˜ê³  cpuê°€ ìœ íœ´ìƒíƒœì— ë“¤ì–´ê°„ë‹¤.
![img](https://www.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter6/6_02_CPU_Histogram.jpg)

### CPU ë°”ìš´ë“œì—ì„œ ì ì • ìŠ¤ë ˆë“œ ìˆ˜

ëŒ€ë¶€ë¶„ì˜ í”„ë¡œê·¸ë¨ì—ì„œ cpuëŠ” ì•„ì£¼ ì§§ì€ì‹œê°„ë™ì•ˆ ì‚¬ìš©í•œë‹¤ê³  ì ê¹ ì–¸ê¸‰í–ˆì§€ë§Œ cpu ë²„ìŠ¤íŠ¸ê°€ í° í”„ë¡œê·¸ë¨ (ë™ì˜ìƒ í¸ì§‘, AI ë“± ë³µì¡í•œ ì—°ì‚°ì„ í•„ìš”ë¡œ í•˜ëŠ” í”„ë¡œê·¸ë¨)ë“¤ì´ ì‹¤í–‰ ë ë•ŒëŠ” cpu ìì›ì„ ë§ì´ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. ì´ë¡œ ì¸í•´ ìŠ¤ë ˆë“œë¥¼ ë§ì´ ì‚¬ìš©í•˜ëŠ”ê²ƒì€ ì˜¤íˆë ¤ ë¶ˆí•„ìš”í•œ ë¬¸ë§¥êµí™˜(context switching)ì„ ì•¼ê¸° í•¨ìœ¼ë¡œì¨ ì˜¤íˆë ¤ ì„±ëŠ¥ì„ ë–¨ì–´ëœ¨ë¦´ ìˆ˜ ìˆë‹¤.

> ğŸ¤” - ê·¸ëŸ¼ cpu ë¥¼ ë§ì´ ì‚¬ìš©í•˜ëŠ” í”„ë¡œê·¸ë¨ì—ì„œ ì ì • ìŠ¤ë ˆë“œ ìˆ˜ëŠ” ì–´ë–»ê²Œ ë ê¹Œìš” ?

ë¸Œë¼ì´ì–¸ ê´´ì¸ ëŠ” cpu bound í”„ë¡œì„¸ìŠ¤ì˜ ì ì • ìŠ¤ë ˆë“œì˜ ê°¯ìˆ˜ëŠ” PCì˜ ì½”ì–´+1 ì„ ê¶Œì¥ í–ˆë‹¤.   
Goetz (2002,2006)
```
threads = number of CPUs + 1
```
### IO ë°”ìš´ë“œì—ì„œ ì ì • ìŠ¤ë ˆë“œ ìˆ˜

IO ë°”ìš´ë“œ ìˆ˜ì—ì„œëŠ” ì¡°ê¸ˆ ëª…í™•í•˜ì§€ ì•Šì„ ìˆ˜ ìˆëŠ”ë° ì´ëŠ” IO ë°”ìš´ë“œì˜ í”„ë¡œì„¸ìŠ¤(í”„ë¡œê·¸ë¨) ì´ ë”ë¼ë„ ìŠ¤ë ˆë“œë³„ IO ëŒ€ê¸°ì‹œê°„ì´ ì–¼ë§ˆì¸ì§€ ê°ê°ì˜ ê¸°ì¤€ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì´ë‹¤. ì´ì— Subramaniam ê³¼ Goetz ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê³µì‹ìœ¼ë¡œ ìŠ¤ë ˆë“œì˜ ì ì •ê°¯ìˆ˜ë¥¼ ì„¤ëª… í–ˆë‹¤.
Subramaniam(2011)
```
threads = number of cores /  (1 â€“ blocking coefficient)
```
Goetz(2002)
```
 threads = number of cores * (1 + wait time / service time)
```
> ì—¬ë‹´ìœ¼ë¡œ ë‘ ê³µì‹ì€ ë‹¬ë¼ë³´ì´ì§€ë§Œ ê°™ì€ ê³µì‹ì´ë‹¤.

## ì°¸ê³ 

- [CPU_BOUND_IO_BOUND](https://taes-k.github.io/2021/06/05/cpu-io-bound/)
- [ì‰¬ìš´ì½”ë“œ](https://www.youtube.com/watch?v=qnVKEwjG_gM)
- [ì ì • ìŠ¤ë ˆë“œ](https://baddotrobot.com/blog/2013/06/01/optimum-number-of-threads/)